// <copyright file="SubscriptionBillingInformation.cs" company="APIMatic">
// PaypalServerSdk.Standard
//
// This file was automatically generated by APIMATIC v3.0 ( https://www.apimatic.io ).
// </copyright>
using Newtonsoft.Json;
using System.Collections.Generic;

namespace PaypalServerSdk.Standard.Models
{
    /// <summary>
    /// SubscriptionBillingInformation.
    /// </summary>
    public class SubscriptionBillingInformation
    {
        /// <summary>
        /// Initializes a new instance of the <see cref="SubscriptionBillingInformation"/> class.
        /// </summary>
        public SubscriptionBillingInformation()
        {
        }

        /// <summary>
        /// Initializes a new instance of the <see cref="SubscriptionBillingInformation"/> class.
        /// </summary>
        /// <param name="outstandingBalance">outstanding_balance.</param>
        /// <param name="failedPaymentsCount">failed_payments_count.</param>
        /// <param name="cycleExecutions">cycle_executions.</param>
        /// <param name="lastPayment">last_payment.</param>
        /// <param name="nextBillingTime">next_billing_time.</param>
        /// <param name="finalPaymentTime">final_payment_time.</param>
        /// <param name="lastFailedPayment">last_failed_payment.</param>
        public SubscriptionBillingInformation(
            Models.Money outstandingBalance,
            int failedPaymentsCount,
            List<Models.CycleExecution> cycleExecutions = null,
            Models.LastPaymentDetails lastPayment = null,
            string nextBillingTime = null,
            string finalPaymentTime = null,
            Models.FailedPaymentDetails lastFailedPayment = null)
        {
            this.OutstandingBalance = outstandingBalance;
            this.CycleExecutions = cycleExecutions;
            this.LastPayment = lastPayment;
            this.NextBillingTime = nextBillingTime;
            this.FinalPaymentTime = finalPaymentTime;
            this.FailedPaymentsCount = failedPaymentsCount;
            this.LastFailedPayment = lastFailedPayment;
        }

        /// <summary>
        /// The currency and amount for a financial transaction, such as a balance or payment due.
        /// </summary>
        [JsonProperty("outstanding_balance")]
        public Models.Money OutstandingBalance { get; set; }

        /// <summary>
        /// The trial and regular billing executions.
        /// </summary>
        [JsonProperty("cycle_executions", NullValueHandling = NullValueHandling.Ignore)]
        public List<Models.CycleExecution> CycleExecutions { get; set; }

        /// <summary>
        /// The details for the last payment.
        /// </summary>
        [JsonProperty("last_payment", NullValueHandling = NullValueHandling.Ignore)]
        public Models.LastPaymentDetails LastPayment { get; set; }

        /// <summary>
        /// The date and time, in [Internet date and time format](https://tools.ietf.org/html/rfc3339#section-5.6). Seconds are required while fractional seconds are optional. Note: The regular expression provides guidance but does not reject all invalid dates.
        /// </summary>
        [JsonProperty("next_billing_time", NullValueHandling = NullValueHandling.Ignore)]
        public string NextBillingTime { get; set; }

        /// <summary>
        /// The date and time, in [Internet date and time format](https://tools.ietf.org/html/rfc3339#section-5.6). Seconds are required while fractional seconds are optional. Note: The regular expression provides guidance but does not reject all invalid dates.
        /// </summary>
        [JsonProperty("final_payment_time", NullValueHandling = NullValueHandling.Ignore)]
        public string FinalPaymentTime { get; set; }

        /// <summary>
        /// The number of consecutive payment failures. Resets to `0` after a successful payment. If this reaches the `payment_failure_threshold` value, the subscription updates to the `SUSPENDED` state.
        /// </summary>
        [JsonProperty("failed_payments_count")]
        public int FailedPaymentsCount { get; set; }

        /// <summary>
        /// The details for the failed payment of the subscription.
        /// </summary>
        [JsonProperty("last_failed_payment", NullValueHandling = NullValueHandling.Ignore)]
        public Models.FailedPaymentDetails LastFailedPayment { get; set; }

        /// <inheritdoc/>
        public override string ToString()
        {
            var toStringOutput = new List<string>();
            this.ToString(toStringOutput);
            return $"SubscriptionBillingInformation : ({string.Join(", ", toStringOutput)})";
        }

        /// <inheritdoc/>
        public override bool Equals(object obj)
        {
            if (obj is null) return false;
            if (ReferenceEquals(this, obj)) return true;

            return obj is SubscriptionBillingInformation other &&
                (this.OutstandingBalance == null && other.OutstandingBalance == null ||
                 this.OutstandingBalance?.Equals(other.OutstandingBalance) == true) &&
                (this.CycleExecutions == null && other.CycleExecutions == null ||
                 this.CycleExecutions?.Equals(other.CycleExecutions) == true) &&
                (this.LastPayment == null && other.LastPayment == null ||
                 this.LastPayment?.Equals(other.LastPayment) == true) &&
                (this.NextBillingTime == null && other.NextBillingTime == null ||
                 this.NextBillingTime?.Equals(other.NextBillingTime) == true) &&
                (this.FinalPaymentTime == null && other.FinalPaymentTime == null ||
                 this.FinalPaymentTime?.Equals(other.FinalPaymentTime) == true) &&
                (this.FailedPaymentsCount.Equals(other.FailedPaymentsCount)) &&
                (this.LastFailedPayment == null && other.LastFailedPayment == null ||
                 this.LastFailedPayment?.Equals(other.LastFailedPayment) == true);
        }

        /// <summary>
        /// ToString overload.
        /// </summary>
        /// <param name="toStringOutput">List of strings.</param>
        protected void ToString(List<string> toStringOutput)
        {
            toStringOutput.Add($"OutstandingBalance = {(this.OutstandingBalance == null ? "null" : this.OutstandingBalance.ToString())}");
            toStringOutput.Add($"CycleExecutions = {(this.CycleExecutions == null ? "null" : $"[{string.Join(", ", this.CycleExecutions)} ]")}");
            toStringOutput.Add($"LastPayment = {(this.LastPayment == null ? "null" : this.LastPayment.ToString())}");
            toStringOutput.Add($"NextBillingTime = {this.NextBillingTime ?? "null"}");
            toStringOutput.Add($"FinalPaymentTime = {this.FinalPaymentTime ?? "null"}");
            toStringOutput.Add($"FailedPaymentsCount = {this.FailedPaymentsCount}");
            toStringOutput.Add($"LastFailedPayment = {(this.LastFailedPayment == null ? "null" : this.LastFailedPayment.ToString())}");
        }
    }
}